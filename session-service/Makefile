.PHONY: build run test clean deps help

.DEFAULT_GOAL := help

build: deps ## Build the service
	@echo "ğŸ”¨ Building session-service..."
	@go build -o main .
	@echo "âœ… Build complete!"

run: build ## Run locally
	@echo "ğŸ” Starting session-service..."
	@./main

deps: ## Download dependencies
	@go mod tidy
	@go mod download

test: ## Run tests
	@go test -v ./...

clean: ## Clean build artifacts
	@rm -f main
	@echo "âœ… Cleaned!"

help: ## Show help
	@echo "ğŸ” Session Service"
	@echo ""
	@grep -E '^[a-zA-Z_-]+:.*?## .*$$' $(MAKEFILE_LIST) | awk 'BEGIN {FS = ":.*?## "}; {printf "  %-10s %s\n", $$1, $$2}'
